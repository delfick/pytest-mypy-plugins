- case: followup_works_fine
  main: |
    from module import takes_str, value
    takes_str(value)
    reveal_type(value)
  out: |
    main:2: error: Argument 1 to "takes_str" has incompatible type "int"; expected "str"  [arg-type]
    main:3: note: Revealed type is "builtins.int"

  files:
    - path: module/__init__.py
      content: |
        from .value import value

        def takes_str(s: str) -> None:
            pass
    - path: module/value.py
      content: |
        value: int = 1

  followups:
    - description: "changed to str, should pass"
      out: |
        main:3: note: Revealed type is "builtins.str"
      files:
        - path: module/value.py
          content: |
            value: str = "asdf"

    - description: "changed to bool, should fail"
      out: |
        main:2: error: Argument 1 to "takes_str" has incompatible type "bool"; expected "str"  [arg-type]
        main:3: note: Revealed type is "builtins.bool"
      files:
        - path: module/value.py
          content: |
            value: bool = False

    - description: "changed to str, should pass again"
      out: |
        main:3: note: Revealed type is "builtins.str"
      files:
        - path: module/value.py
          content: |
            value: str = "stuff"
